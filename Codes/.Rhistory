show.stat = TRUE,
show.ci = 0.95,
collapse.ci = FALSE,
p.style = "numeric",
digits.p = 2,
dv.labels = c("% Dilapidated", "% Green Space",  "% Crosswalk", "% Non-Single Family Home",  "% Single Lane", ""),
pred.labels = c("Intercept",
"Mixed",
"Predominantly Black",
"Predominantly minoritized racial group other than Black"
),
CSS = list(
modelcolumn1 = "background-color: #f0f0f0;",
modelcolumn3 = "background-color: #f0f0f0;",
modelcolumn5 = "background-color: #f0f0f0;"
)
,
file = "../Output/Supplementary/TableF3_Null.html"
)
df_composition <- df %>%
dplyr::select(-geometry) %>%
mutate(Composition = ifelse(White >= 60, "PW",
ifelse(Black >= 50, "PB",
ifelse(Asian >= 50 | Hispanic >= 50 | Native >= 50 | HIPI >= 50, "PNB", "Mixed"))))  %>%
mutate(Composition = factor(Composition),
bi_PW = ifelse(Composition == "PW", 1, 0),
bi_PB = ifelse(Composition == "PB", 1, 0),
bi_PNB = ifelse(Composition == "PNB", 1, 0),
bi_mixed = ifelse(Composition == "Mixed", 1, 0)) %>%
mutate(Pct_college = Pct_college / 100,
Pct_Female = Pct_Female / 100,
Pct_insurance = Pct_insurance / 100,
Pct_Owner = Pct_Owner / 100,
Pct_Vacant = Pct_Vacant / 100,
Pct_SingleFam = Pct_SingleFam /100,
Urban_Rural_New = as.numeric(Urban_Rural_New))
df_composition$Composition <- relevel(df_composition$Composition, "PW")
df_composition <- df_composition %>%
dplyr::filter(Urban_Rural_New == 1)
table(df_composition$Composition)
### Dilapidated Building
df_prop_dilapbldg <- df_composition %>%
dplyr::select(prop_dilapbldg, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe1 <- lmer(prop_dilapbldg ~ Composition + (1|State) + (1|countyfips),
data = df_prop_dilapbldg, REML=FALSE)
mod_na_cov_fe1 <- lmer(prop_dilapbldg ~ Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State) + (1|countyfips),
data = df_prop_dilapbldg, REML=FALSE)
### Green Space
df_prop_green <- df_composition %>%
dplyr::select(prop_green, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe2 <- lmer(prop_green ~ Composition + (1|State) + (1|countyfips),
data = df_prop_green, REML=FALSE)
mod_na_cov_fe2 <- lmer(prop_green ~ Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State) + (1|countyfips),
data = df_prop_green, REML=FALSE)
### Crosswalk
df_prop_crosswalk <- df_composition %>%
dplyr::select(prop_crosswalk, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe3 <- lmer(prop_crosswalk ~ Composition + (1|State) + (1|countyfips),
data = df_prop_crosswalk, REML=FALSE)
mod_na_cov_fe3 <- lmer(prop_crosswalk ~ Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State) + (1|countyfips),
data = df_prop_crosswalk, REML=FALSE)
### Not single family home
df_prop_not_single_family_home <- df_composition %>%
dplyr::select(prop_not_single_family_home, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe4 <- lmer(prop_not_single_family_home ~ Composition + (1|State) + (1|countyfips),
data = df_prop_not_single_family_home, REML=FALSE)
mod_na_cov_fe4 <- lmer(prop_not_single_family_home ~ Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant Pct_SingleFam + (1|State) + (1|countyfips),
### Not single family home
df_prop_not_single_family_home <- df_composition %>%
dplyr::select(prop_not_single_family_home, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe4 <- lmer(prop_not_single_family_home ~ Composition + (1|State) + (1|countyfips),
data = df_prop_not_single_family_home, REML=FALSE)
mod_na_cov_fe4 <- lmer(prop_not_single_family_home ~ Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State) + (1|countyfips),
data = df_prop_not_single_family_home, REML=FALSE)
### Single Lane
df_prop_single_lane <- df_composition %>%
dplyr::select(prop_single_lane, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe5 <- lmer(prop_single_lane ~ Composition + (1|State) + (1|countyfips),
data = df_prop_single_lane, REML=FALSE)
mod_na_cov_fe5 <- lmer(prop_single_lane ~Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State) + (1|countyfips),
data = df_prop_single_lane, REML=FALSE)
### new table
tab_model(mod_na_cov_fe1,
mod_na_cov_fe2,
mod_na_cov_fe3,
mod_na_cov_fe4,
mod_na_cov_fe5,
show.se = FALSE,
collapse.se = FALSE,
col.order = c("est", "ci", "p"),
show.stat = TRUE,
show.ci = 0.95,
collapse.ci = FALSE,
p.style = "numeric",
digits.p = 2,
dv.labels = c("% Dilapidated", "% Green Space",  "% Crosswalk", "% Non-Single Family Home",  "% Single Lane", ""),
pred.labels = c("Intercept",
"Mixed",
"Predominantly Black",
"Predominantly minoritized racial group other than Black",
"log(Household Income)",
"% College",
"Age",
"% Female",
"% Insured",
"% Owner",
"% Vacant",
"% Single Family"),
CSS = list(
modelcolumn1 = "background-color: #f0f0f0;",
modelcolumn3 = "background-color: #f0f0f0;",
modelcolumn5 = "background-color: #f0f0f0;"
)
,
file = "../Output/Supplementary/TableF1_SC.html"
)
### Null models
tab_model(mod_na_fe1,
mod_na_fe2,
mod_na_fe3,
mod_na_fe4,
mod_na_fe5,
show.se = FALSE,
collapse.se = FALSE,
col.order = c("response.level","est", "ci", "p"),
show.stat = TRUE,
show.ci = 0.95,
collapse.ci = FALSE,
p.style = "numeric",
digits.p = 2,
dv.labels = c("% Dilapidated", "% Green Space",  "% Crosswalk", "% Non-Single Family Home",  "% Single Lane", ""),
pred.labels = c("Intercept",
"Mixed",
"Predominantly Black",
"Predominantly minoritized racial group other than Black"
),
CSS = list(
modelcolumn1 = "background-color: #f0f0f0;",
modelcolumn3 = "background-color: #f0f0f0;",
modelcolumn5 = "background-color: #f0f0f0;"
)
,
file = "../Output/Supplementary/TableF3_SC_Null.html"
)
### new table
tab_model(mod_na_cov_fe1,
mod_na_cov_fe2,
mod_na_cov_fe3,
mod_na_cov_fe4,
mod_na_cov_fe5,
show.se = FALSE,
collapse.se = FALSE,
col.order = c("est", "ci", "p"),
show.stat = TRUE,
show.ci = 0.95,
collapse.ci = FALSE,
p.style = "numeric",
digits.p = 2,
dv.labels = c("% Dilapidated", "% Green Space",  "% Crosswalk", "% Non-Single Family Home",  "% Single Lane", ""),
pred.labels = c("Intercept",
"Mixed",
"Predominantly Black",
"Predominantly minoritized racial group other than Black",
"log(Household Income)",
"% College",
"Age",
"% Female",
"% Insured",
"% Owner",
"% Vacant",
"% Single Family"),
CSS = list(
modelcolumn1 = "background-color: #f0f0f0;",
modelcolumn3 = "background-color: #f0f0f0;",
modelcolumn5 = "background-color: #f0f0f0;"
)
,
file = "../Output/Supplementary/TableF1_SC.html"
)
### Null models
tab_model(mod_na_fe1,
mod_na_fe2,
mod_na_fe3,
mod_na_fe4,
mod_na_fe5,
show.se = FALSE,
collapse.se = FALSE,
col.order = c("response.level","est", "ci", "p"),
show.stat = TRUE,
show.ci = 0.95,
collapse.ci = FALSE,
p.style = "numeric",
digits.p = 2,
dv.labels = c("% Dilapidated", "% Green Space",  "% Crosswalk", "% Non-Single Family Home",  "% Single Lane", ""),
pred.labels = c("Intercept",
"Mixed",
"Predominantly Black",
"Predominantly minoritized racial group other than Black"
),
CSS = list(
modelcolumn1 = "background-color: #f0f0f0;",
modelcolumn3 = "background-color: #f0f0f0;",
modelcolumn5 = "background-color: #f0f0f0;"
)
,
file = "../Output/Supplementary/TableF1_SC_Null.html"
)
df_composition <- df %>%
dplyr::select(-geometry) %>%
mutate(Composition = ifelse(White >= 60 & Black < 10 & Hispanic < 10 & Asian < 10 & Native < 10 & HIPI < 10, "PW",
ifelse(Black >= 50 & White < 10 & Hispanic < 10 & Asian < 10 & Native < 10 & HIPI < 10, "PB",
ifelse(Black < 10 & White < 10 & (Asian >= 50 | Hispanic >= 50 | Native >= 50 | HIPI >= 50), "PNB", "Mixed"))))  %>%
mutate(Composition = factor(Composition),
bi_PW = ifelse(Composition == "PW", 1, 0),
bi_PB = ifelse(Composition == "PB", 1, 0),
bi_PNB = ifelse(Composition == "PNB", 1, 0),
bi_mixed = ifelse(Composition == "Mixed", 1, 0)) %>%
mutate(Pct_college = Pct_college / 100,
Pct_Female = Pct_Female / 100,
Pct_insurance = Pct_insurance / 100,
Pct_Owner = Pct_Owner / 100,
Pct_Vacant = Pct_Vacant / 100,
Pct_SingleFam = Pct_SingleFam /100,
Urban_Rural_New = as.numeric(Urban_Rural_New))
df_composition$Composition <- relevel(df_composition$Composition, "PW")
df_composition <- df_composition %>%
dplyr::filter(Urban_Rural_New == 1)
### Dilapidated Building
df_prop_dilapbldg <- df_composition %>%
dplyr::select(prop_dilapbldg, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe1 <- lmer(prop_dilapbldg ~ Composition + (1|State) + (1|countyfips),
data = df_prop_dilapbldg, REML=FALSE)
mod_na_cov_fe1 <- lmer(prop_dilapbldg ~ Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State) + (1|countyfips),
data = df_prop_dilapbldg, REML=FALSE)
### Green Space
df_prop_green <- df_composition %>%
dplyr::select(prop_green, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe2 <- lmer(prop_green ~ Composition + (1|State) + (1|countyfips),
data = df_prop_green, REML=FALSE)
mod_na_cov_fe2 <- lmer(prop_green ~ Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State) + (1|countyfips),
data = df_prop_green, REML=FALSE)
### Crosswalk
df_prop_crosswalk <- df_composition %>%
dplyr::select(prop_crosswalk, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe3 <- lmer(prop_crosswalk ~ Composition + (1|State) + (1|countyfips),
data = df_prop_crosswalk, REML=FALSE)
mod_na_cov_fe3 <- lmer(prop_crosswalk ~ Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State) + (1|countyfips),
data = df_prop_crosswalk, REML=FALSE)
### Not single family home
df_prop_not_single_family_home <- df_composition %>%
dplyr::select(prop_not_single_family_home, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe4 <- lmer(prop_not_single_family_home ~ Composition + (1|State) + (1|countyfips),
data = df_prop_not_single_family_home, REML=FALSE)
mod_na_cov_fe4 <- lmer(prop_not_single_family_home ~ Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State) + (1|countyfips),
data = df_prop_not_single_family_home, REML=FALSE)
### Single Lane
df_prop_single_lane <- df_composition %>%
dplyr::select(prop_single_lane, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe5 <- lmer(prop_single_lane ~ Composition + (1|State) + (1|countyfips),
data = df_prop_single_lane, REML=FALSE)
mod_na_cov_fe5 <- lmer(prop_single_lane ~Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State) + (1|countyfips),
data = df_prop_single_lane, REML=FALSE)
tab_model(mod_na_cov_fe1,
mod_na_cov_fe2,
mod_na_cov_fe3,
mod_na_cov_fe4,
mod_na_cov_fe5,
show.se = FALSE,
collapse.se = FALSE,
col.order = c("est", "ci", "p"),
show.stat = TRUE,
show.ci = 0.95,
collapse.ci = FALSE,
p.style = "numeric",
digits.p = 2,
dv.labels = c("% Dilapidated", "% Green Space",  "% Crosswalk", "% Non-Single Family Home",  "% Single Lane", ""),
pred.labels = c("Intercept",
"Mixed",
"Predominantly Black",
"Predominantly minoritized racial group other than Black",
"log(Household Income)",
"% College",
"Age",
"% Female",
"% Insured",
"% Owner",
"% Vacant",
"% Single Family"),
CSS = list(
modelcolumn1 = "background-color: #f0f0f0;",
modelcolumn3 = "background-color: #f0f0f0;",
modelcolumn5 = "background-color: #f0f0f0;"
)
,
file = "../Output/Supplementary/TableF3_SC.html"
)
### Null models
tab_model(mod_na_fe1,
mod_na_fe2,
mod_na_fe3,
mod_na_fe4,
mod_na_fe5,
show.se = FALSE,
collapse.se = FALSE,
col.order = c("response.level","est", "ci", "p"),
show.stat = TRUE,
show.ci = 0.95,
collapse.ci = FALSE,
p.style = "numeric",
digits.p = 2,
dv.labels = c("% Dilapidated", "% Green Space",  "% Crosswalk", "% Non-Single Family Home",  "% Single Lane", ""),
pred.labels = c("Intercept",
"Mixed",
"Predominantly Black",
"Predominantly minoritized racial group other than Black"
),
CSS = list(
modelcolumn1 = "background-color: #f0f0f0;",
modelcolumn3 = "background-color: #f0f0f0;",
modelcolumn5 = "background-color: #f0f0f0;"
)
,
file = "../Output/Supplementary/TableF3_SC_Null.html"
)
df_composition <- df %>%
dplyr::select(-geometry) %>%
mutate(Composition = ifelse(White >= 60 & Black < 20 & Hispanic < 20 & Asian < 20 & Native < 20 & HIPI < 20, "PW",
ifelse(Black >= 50 & White < 20 & Hispanic < 20 & Asian < 20 & Native < 20 & HIPI < 20, "PB",
ifelse(Black < 20 & White < 20 & (Asian >= 50 | Hispanic >= 50 | Native >= 50 | HIPI >= 50), "PNB", "Mixed"))))  %>%
mutate(Composition = factor(Composition),
bi_PW = ifelse(Composition == "PW", 1, 0),
bi_PB = ifelse(Composition == "PB", 1, 0),
bi_PNB = ifelse(Composition == "PNB", 1, 0),
bi_mixed = ifelse(Composition == "Mixed", 1, 0)) %>%
mutate(Pct_college = Pct_college / 100,
Pct_Female = Pct_Female / 100,
Pct_insurance = Pct_insurance / 100,
Pct_Owner = Pct_Owner / 100,
Pct_Vacant = Pct_Vacant / 100,
Pct_SingleFam = Pct_SingleFam /100,
Urban_Rural_New = as.numeric(Urban_Rural_New))
df_composition$Composition <- relevel(df_composition$Composition, "PW")
df_composition <- df_composition %>%
dplyr::filter(Urban_Rural_New == 1)
table(df_composition$Composition)
### Dilapidated Building
df_prop_dilapbldg <- df_composition %>%
dplyr::select(prop_dilapbldg, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe1 <- lmer(prop_dilapbldg ~ Composition + (1|State) + (1|countyfips),
data = df_prop_dilapbldg, REML=FALSE)
mod_na_cov_fe1 <- lmer(prop_dilapbldg ~ Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State) + (1|countyfips),
data = df_prop_dilapbldg, REML=FALSE)
### Green Space
df_prop_green <- df_composition %>%
dplyr::select(prop_green, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe2 <- lmer(prop_green ~ Composition + (1|State) + (1|countyfips),
data = df_prop_green, REML=FALSE)
mod_na_cov_fe2 <- lmer(prop_green ~ Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State) + (1|countyfips),
data = df_prop_green, REML=FALSE)
### Crosswalk
df_prop_crosswalk <- df_composition %>%
dplyr::select(prop_crosswalk, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe3 <- lmer(prop_crosswalk ~ Composition + (1|State) + (1|countyfips),
data = df_prop_crosswalk, REML=FALSE)
mod_na_cov_fe3 <- lmer(prop_crosswalk ~ Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State) + (1|countyfips),
data = df_prop_crosswalk, REML=FALSE)
### Not single family home
df_prop_not_single_family_home <- df_composition %>%
dplyr::select(prop_not_single_family_home, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe4 <- lmer(prop_not_single_family_home ~ Composition + (1|State) + (1|countyfips),
data = df_prop_not_single_family_home, REML=FALSE)
mod_na_cov_fe4 <- lmer(prop_not_single_family_home ~ Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State) + (1|countyfips),
data = df_prop_not_single_family_home, REML=FALSE)
### Single Lane
df_prop_single_lane <- df_composition %>%
dplyr::select(prop_single_lane, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, countyfips, State) %>%
na.omit()
mod_na_fe5 <- lmer(prop_single_lane ~ Composition + (1|State) + (1|countyfips),
data = df_prop_single_lane, REML=FALSE)
mod_na_cov_fe5 <- lmer(prop_single_lane ~Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State) + (1|countyfips),
data = df_prop_single_lane, REML=FALSE)
### new table
tab_model(mod_na_cov_fe1,
mod_na_cov_fe2,
mod_na_cov_fe3,
mod_na_cov_fe4,
mod_na_cov_fe5,
show.se = FALSE,
collapse.se = FALSE,
col.order = c("est", "ci", "p"),
show.stat = TRUE,
show.ci = 0.95,
collapse.ci = FALSE,
p.style = "numeric",
digits.p = 2,
dv.labels = c("% Dilapidated", "% Green Space",  "% Crosswalk", "% Non-Single Family Home",  "% Single Lane", ""),
pred.labels = c("Intercept",
"Mixed",
"Predominantly Black",
"Predominantly minoritized racial group other than Black",
"log(Household Income)",
"% College",
"Age",
"% Female",
"% Insured",
"% Owner",
"% Vacant",
"% Single Family"),
CSS = list(
modelcolumn1 = "background-color: #f0f0f0;",
modelcolumn3 = "background-color: #f0f0f0;",
modelcolumn5 = "background-color: #f0f0f0;"
)
,
file = "../Output/Supplementary/TableF2_SC.html"
)
### Null models
tab_model(mod_na_fe1,
mod_na_fe2,
mod_na_fe3,
mod_na_fe4,
mod_na_fe5,
show.se = FALSE,
collapse.se = FALSE,
col.order = c("response.level","est", "ci", "p"),
show.stat = TRUE,
show.ci = 0.95,
collapse.ci = FALSE,
p.style = "numeric",
digits.p = 2,
dv.labels = c("% Dilapidated", "% Green Space",  "% Crosswalk", "% Non-Single Family Home",  "% Single Lane", ""),
pred.labels = c("Intercept",
"Mixed",
"Predominantly Black",
"Predominantly minoritized racial group other than Black"
),
CSS = list(
modelcolumn1 = "background-color: #f0f0f0;",
modelcolumn3 = "background-color: #f0f0f0;",
modelcolumn5 = "background-color: #f0f0f0;"
)
,
file = "../Output/Supplementary/TableF2_SC_Null.html"
)
sem.model.fits(mod_na_cov_fe1)
AIC(mod_na_cov_fe1)
df_composition <- df %>%
dplyr::select(-geometry) %>%
mutate(Composition = ifelse(White >= 60 & Black < 20 & Hispanic < 20 & Asian < 20 & Native < 20 & HIPI < 20, "Predominantly White",
ifelse(Black >= 50 & White < 20 & Hispanic < 20 & Asian < 20 & Native < 20 & HIPI < 20, "Predominantly Black",
ifelse(Black < 20 & White < 20 & (Asian >= 50 | Hispanic >= 50 | Native >= 50 | HIPI >= 50), "Predominantly minoritized racial group other than Black", "Mixed"))))  %>%
mutate(Composition = factor(Composition),
bi_PW = ifelse(Composition == "Predominantly White", 1, 0),
bi_PB = ifelse(Composition == "Predominantly Black", 1, 0),
bi_PNB = ifelse(Composition == "Predominantly minoritized racial group other than Black", 1, 0),
bi_mixed = ifelse(Composition == "Mixed", 1, 0)) %>%
mutate(Pct_college = Pct_college / 100,
Pct_Female = Pct_Female / 100,
Pct_insurance = Pct_insurance / 100,
Pct_Owner = Pct_Owner / 100,
Pct_Vacant = Pct_Vacant / 100,
Pct_SingleFam = Pct_SingleFam /100,
Urban_Rural_New = as.numeric(Urban_Rural_New))
df_composition$Composition <- relevel(df_composition$Composition, "Predominantly White")
df_composition <- df_composition %>%
dplyr::filter(Urban_Rural_New == 1)
### Dilapidated Building
df_prop_dilapbldg <- df_composition %>%
dplyr::select(prop_dilapbldg, Composition, Median.household.income, Pct_college , Age, Pct_Female , Pct_insurance , Pct_Owner , Pct_Vacant , Pct_SingleFam, State) %>%
na.omit()
mod_na_fe1 <- lmer(prop_dilapbldg ~ Composition + (1|State),
data = df_prop_dilapbldg, REML=FALSE)
mod_na_cov_fe1 <- lmer(prop_dilapbldg ~ Composition + log(Median.household.income) + Pct_college + Age + Pct_Female + Pct_insurance + Pct_Owner + Pct_Vacant + Pct_SingleFam + (1|State),
data = df_prop_dilapbldg, REML=FALSE)
library(nnet)
library(tidyr)
library(tidyverse)
library(dplyr)
library(car)
library(stargazer)
library(reshape)
library(modelsummary)
library(knitr)
library(stringr)
library(effects)
library(lme4)
library(lmerTest)
library(merTools)
library(bife)
library(lfe)
library(texreg)
options(scipen = 999)
knitr::opts_chunk$set(echo = TRUE)
# knitr::opts_knit$set(root.dir ='/Users/ahyoungcho/Dropbox/CAR/2022 Summer/')
# Load data
# df <- readRDS(file = "/Users/ahyoungcho/Dropbox/CAR/2022 Summer/Replication/FinalData/finaldata.rds")
df <- readRDS(file = "../FinalData/finaldata.rds")
